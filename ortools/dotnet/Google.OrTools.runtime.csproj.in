<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>Library</OutputType>
    @DOTNET_TFM@
    <RuntimeIdentifier>@DOTNET_RID@</RuntimeIdentifier>
    <AssemblyName>google-ortools-native</AssemblyName>
    <Version>@PROJECT_VERSION@</Version>

    <!-- Nuget Properties -->
    <Description>.NET native wrapper for the Operations Research Tools project</Description>
    <IncludeBuildOutput>false</IncludeBuildOutput>

    <!-- Pack Option -->
    <Title>Google.OrTools @DOTNET_RID@ v@PROJECT_VERSION@</Title>
    <PackageId>@DOTNET_NATIVE_PROJECT@</PackageId>

    <!-- Signing -->
    <AssemblyOriginatorKeyFile>../or-tools.snk</AssemblyOriginatorKeyFile>
    <SignAssembly>true</SignAssembly>
    <PublicSign>false</PublicSign>
    <DelaySign>false</DelaySign>
  </PropertyGroup>

  <ItemGroup>
    <!-- Native library must be in native directory... -->
    <!-- If ortools is built as a STATIC_LIBRARY (e.g. Windows) then we don't have to include it -->
    <Content Include="
      $<TARGET_FILE:google-ortools-native>
      $<$<STREQUAL:$<TARGET_PROPERTY:@PROJECT_NAME@,TYPE>,SHARED_LIBRARY>:;$<TARGET_SONAME_FILE:@PROJECT_NAME@>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::base>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::bad_any_cast_impl>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::bad_optional_access>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::bad_variant_access>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::city>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::civil_time>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::cord>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::cord_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::cordz_functions>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::cordz_handle>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::cordz_info>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::crc32c>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::crc_cord_state>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::crc_cpu_detect>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::crc_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::debugging_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::decode_rust_punycode>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::demangle_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::demangle_rust>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::die_if_null>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::examine_stack>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::exponential_biased>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_commandlineflag>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_commandlineflag_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_config>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_marshalling>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_parse>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_private_handle_accessor>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_program_name>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_reflection>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_usage>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::flags_usage_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::graphcycles_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::hash>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::hashtablez_sampler>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::int128>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::kernel_timeout_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::leak_check>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_entry>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_flags>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_globals>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_initialize>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_check_op>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_conditions>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_fnmatch>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_format>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_globals>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_log_sink_set>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_message>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_nullguard>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_internal_proto>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_severity>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::log_sink>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::low_level_hash>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::malloc_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_distributions>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_platform>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_pool_urbg>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_randen>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_randen_hwaes>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_randen_hwaes_impl>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_randen_slow>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_internal_seed_material>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_seed_gen_exception>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::random_seed_sequences>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::raw_hash_set>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::raw_logging_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::spinlock_wait>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::stacktrace>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::status>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::statusor>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::str_format_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::strerror>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::string_view>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::strings>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::strings_internal>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::symbolize>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::synchronization>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::throw_delegate>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::time>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::time_zone>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::utf8_for_code_point>>
      $<$<BOOL:${BUILD_absl}>:;$<TARGET_SONAME_FILE:absl::vlog_config_internal>>

      $<$<BOOL:${BUILD_re2}>:;$<TARGET_SONAME_FILE:re2::re2>>
      $<$<BOOL:${BUILD_Protobuf}>:;$<TARGET_SONAME_FILE:protobuf::libprotobuf>>

      $<$<BOOL:${BUILD_CoinUtils}>:;$<TARGET_SONAME_FILE:Coin::CoinUtils>>
      $<$<BOOL:${BUILD_Osi}>:;$<TARGET_SONAME_FILE:Coin::Osi>>
      $<$<BOOL:${BUILD_Clp}>:;$<TARGET_SONAME_FILE:Coin::Clp>;$<TARGET_SONAME_FILE:Coin::OsiClp>;$<TARGET_SONAME_FILE:Coin::ClpSolver>>
      $<$<BOOL:${BUILD_Cgl}>:;$<TARGET_SONAME_FILE:Coin::Cgl>>
      $<$<BOOL:${BUILD_Cbc}>:;$<TARGET_SONAME_FILE:Coin::Cbc>;$<TARGET_SONAME_FILE:Coin::OsiCbc>;$<TARGET_SONAME_FILE:Coin::CbcSolver>>

      $<$<BOOL:${BUILD_HIGHS}>:;$<TARGET_SONAME_FILE:highs>>
    ">
      <PackagePath>runtimes/@DOTNET_RID@/native/%(Filename)%(Extension)</PackagePath>
      <Pack>true</Pack>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
  </ItemGroup>
</Project>
